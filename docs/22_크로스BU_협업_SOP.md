# 크로스 BU 협업 SOP — BU 간 의존 관계 관리 표준
- 버전: 1.0
- 작성일: 2026-02-12
- 목적: 사업부(BU) 간 의존 관계 정의 및 협업 프로세스 표준화
- 원칙: 모든 BU 간 요청은 티켓 기반 (원칙 3: 티켓 기반 실행)

---

## 1) BU 간 의존 관계 맵

### 주요 의존 관계
```
[BU1: 고객지원] ─────┐
         │           ↓
         └────→ [공통본부: 운영/품질]
                      ↑
[BU2: 제품개발] ──────┤
         │           ↑
         └────→ [공통본부: 보안/정책]
                      ↑
[BU3: 엔터프라이즈 연동] ─┤
         │
         └────→ [BU2: 제품개발] (공통 컴포넌트)

[BU4: 데이터·분석] ───→ [모든 BU] (데이터 소스)
```

### 의존 타입 정의
| 의존 타입 | 설명 | 예시 | SLA |
|----------|------|------|-----|
| 컴포넌트 공유 | 공통 라이브러리/모듈 사용 | BU3 → BU2 인증 모듈 | 변경 시 48h 사전 통보 |
| API 호출 | 타 BU 서비스 API 사용 | BU1 → BU4 분석 API | 99.9% 가용성 |
| 데이터 공유 | 데이터 파이프라인/DB 접근 | BU4 → 전체 (로그 수집) | 24h 데이터 지연 허용 |
| 배포 순서 | 배포 순서 의존성 | BU3 → BU2 (API 먼저) | 동일 배포 윈도우 조율 |

---

## 2) BU 간 요청 프로세스 (원칙 3: 티켓 기반)

### 요청 생성 (필수)
1. 요청 BU가 티켓 생성 (유형: `cross-bu-request`)
2. 필수 필드 작성:
   - 요청 내용 (명확한 요구사항)
   - 목표 완료 일자
   - 우선순위 (P0~P3)
   - 영향 범위 (고객/성능/보안)
   - 요청자 연락처 (에이전트 ID)

### 요청 접수 (타겟 BU)
1. 타겟 BU가 24시간 내 티켓 확인
2. 실행 가능 여부 판단 (리소스, 우선순위)
3. 수락/거절/협상 중 선택

### 수락 시
- 작업 일정 협의 (티켓에 기록)
- RACI 정의 (누가 실행/검토/승인하나)
- 완료 기준 합의

### 거절 시
- 거절 사유 명시 (리소스 부족, 우선순위 낮음 등)
- 대안 제시 (가능 시)
- 에스컬레이션 경로 안내 (Level 2: 본부장 조율)

### 협상 시
- 일정 조정, 우선순위 재조정 등
- 48시간 내 합의 도출
- 합의 불가 시 Level 2 에스컬레이션

---

## 3) 공유 컴포넌트 관리 규칙 (원칙 1: 단일 산출물 책임)

### 소유권 정의
| 컴포넌트 | 소유 BU | 사용 BU | 변경 승인 |
|---------|---------|---------|----------|
| 인증/SSO 모듈 | BU2 (제품개발) | BU1, BU3 | BU2 + 보안본부 |
| UI 컴포넌트 라이브러리 | BU2 (제품개발) | BU1, BU3 | BU2 단독 |
| 로깅/모니터링 SDK | 운영본부 | 모든 BU | 운영본부 + 보안본부 |
| 데이터 파이프라인 | BU4 (데이터·분석) | 모든 BU | BU4 + 보안본부 |

### 변경 관리 절차
1. **변경 계획 단계** (D-7일)
   - 소유 BU가 변경 계획 티켓 생성
   - 사용 BU 전체에 통보 (태그 또는 SendMessage)
   - 변경 내용, 영향, 마이그레이션 가이드 제공

2. **피드백 수집** (D-7일 ~ D-4일)
   - 사용 BU들이 영향 검토
   - 호환성 이슈, 마이그레이션 부담 제기
   - 소유 BU가 피드백 반영 또는 완화 방안 제시

3. **승인** (D-3일)
   - 보안/정책본부 검토 (보안 영향 있을 시)
   - CAB 승인 (고위험 변경 시)

4. **배포** (D-day)
   - 소유 BU가 배포 (카나리/점진)
   - 사용 BU들 모니터링 협조
   - 문제 발생 시 즉시 롤백

5. **사후 지원** (D+1일 ~ D+7일)
   - 사용 BU 마이그레이션 지원
   - 이슈 해결 우선순위 상향
   - 회고(Retrospective) 진행

### 하위 호환성 원칙
- **Major 버전**: 하위 호환 깨짐 허용 (사전 통보 필수, 마이그레이션 가이드 제공)
- **Minor 버전**: 기능 추가, 하위 호환 유지
- **Patch 버전**: 버그 수정, 하위 호환 유지

### 비상 패치
- 보안/장애 긴급 패치는 사전 통보 없이 배포 가능
- 단, 배포 후 24시간 내 사후 통보 필수
- 사용 BU들에게 영향 모니터링 요청

---

## 4) BU 간 충돌 시나리오 및 해결

### 시나리오 1: 우선순위 충돌
- **상황**: BU1과 BU3가 동시에 BU2에 긴급 요청
- **해결**:
  1. BU2가 비즈니스 영향 평가 (고객수, 매출, SLA)
  2. 데이터 기반 우선순위 판정
  3. 낮은 우선순위 요청자에게 대안 제시 (일정 조정, 임시 우회 방법)
  4. 합의 불가 시 Level 2 에스컬레이션 (본부장 조율)

### 시나리오 2: 리소스 부족
- **상황**: BU2가 동시 다발 요청으로 리소스 부족
- **해결**:
  1. BU2가 현재 작업량 및 여유 용량 공유
  2. 요청자들과 일정 재조정 협의
  3. 긴급 요청 시 CFO에게 예산 증액 요청 (토큰/컴퓨팅)
  4. 장기 해결: BU2 확장 계획 수립

### 시나리오 3: 배포 순서 의존성
- **상황**: BU3의 배포가 BU2 API 변경에 의존
- **해결**:
  1. BU2가 먼저 배포 (선행 조건)
  2. BU2 배포 완료 후 BU3 배포
  3. 배포 윈도우 조율 (동일 날짜/시간대)
  4. CAB 합동 승인 (두 BU 동시 참여)

### 시나리오 4: 데이터 접근 충돌
- **상황**: BU4가 데이터 스키마 변경, BU1/BU3 영향
- **해결**:
  1. BU4가 마이그레이션 계획 사전 공유 (D-14일)
  2. 호환 레이어 제공 (구 스키마 임시 지원)
  3. BU1/BU3 마이그레이션 완료 후 호환 레이어 제거
  4. 보안본부 데이터 정책 검토

---

## 5) 공동 배포 프로세스

### 공동 배포가 필요한 경우
- 두 개 이상 BU의 변경이 상호 의존
- API 계약(Contract) 변경 (제공자+소비자 동시)
- 데이터 스키마 변경 (BU4 + 사용 BU)

### 공동 배포 절차
1. **사전 조율** (D-7일)
   - 관련 BU들이 배포 윈도우 협의
   - 각 BU별 배포 순서 결정
   - 롤백 시나리오 합의

2. **CAB 합동 승인** (D-3일)
   - 모든 관련 BU 대표 참석
   - 공동 변경 요청(CR) 제출
   - CAB 통합 심사 및 승인

3. **배포 실행** (D-day)
   - 합의된 순서대로 순차 배포
   - 각 단계마다 검증 (smoke test)
   - 모든 BU가 배포 상황실 참여 (공동 모니터링)

4. **공동 모니터링** (D+1일 ~ D+3일)
   - 통합 대시보드로 전체 지표 모니터링
   - 이슈 발생 시 공동 대응
   - 롤백 필요 시 역순으로 롤백

5. **회고** (D+7일)
   - 공동 회고 미팅
   - 협업 개선점 도출
   - 다음 공동 배포에 반영

---

## 6) SLA 및 응답 시간 기준

### 티켓 응답 시간
| 우선순위 | 1차 응답 | 착수 | 완료 목표 |
|---------|---------|------|----------|
| P0 (긴급) | 1시간 | 2시간 | 24시간 |
| P1 (높음) | 4시간 | 8시간 | 72시간 |
| P2 (보통) | 24시간 | 48시간 | 2주 |
| P3 (낮음) | 48시간 | 1주 | 1개월 |

### API 가용성 SLA
| 제공 BU | API | 가용성 목표 | 응답 시간 (p95) |
|---------|-----|-----------|---------------|
| BU2 (제품개발) | 인증 API | 99.95% | <200ms |
| BU4 (데이터·분석) | 분석 API | 99.9% | <1s |
| 운영본부 | 모니터링 API | 99.99% | <100ms |

### 데이터 파이프라인 SLA
| 제공 BU | 데이터 타입 | 지연 허용 | 정확도 |
|---------|-----------|---------|--------|
| BU4 (데이터·분석) | 로그 수집 | 24시간 | 99.9% |
| BU4 (데이터·분석) | 실시간 이벤트 | 10초 | 99.99% |

---

## 7) 커뮤니케이션 채널

### 비동기 (기본)
- 티켓 시스템 (원칙 3: 모든 요청은 티켓)
- SendMessage (에이전트 간 직접 메시지)
- 주간 BU 리더 동기화 미팅 요약 공유

### 동기 (긴급)
- 배포 상황실 (공동 배포 시)
- 인시던트 대응 채널 (Sev 1/2)
- 에스컬레이션 회의 (Level 2 이상)

### 정기 동기화
- 주간 BU 리더 미팅 (매주 월요일)
- 월간 크로스 BU 회고 (매월 첫째 금요일)
- 분기별 의존 관계 리뷰 (분기 시작 첫째 주)

---

## 8) 체크리스트

### 크로스 BU 요청 시 (요청자)
- [ ] 티켓 생성 (유형: cross-bu-request)
- [ ] 명확한 요구사항 및 완료 기준 작성
- [ ] 우선순위 및 목표 일자 명시
- [ ] 타겟 BU 태그 또는 통보
- [ ] 24시간 내 응답 확인

### 크로스 BU 요청 수신 시 (타겟 BU)
- [ ] 24시간 내 1차 응답
- [ ] 실행 가능 여부 판단
- [ ] 수락/거절/협상 명시
- [ ] 수락 시 RACI 및 일정 협의
- [ ] 거절 시 사유 및 대안 제시

### 공유 컴포넌트 변경 시 (소유 BU)
- [ ] D-7일 변경 계획 통보
- [ ] 사용 BU 피드백 수집 (D-7일~D-4일)
- [ ] 마이그레이션 가이드 제공
- [ ] 보안/CAB 승인 (필요 시)
- [ ] 배포 후 사용 BU 지원

### 공동 배포 시 (모든 관련 BU)
- [ ] 배포 윈도우 조율
- [ ] CAB 합동 승인
- [ ] 배포 순서 합의
- [ ] 롤백 시나리오 준비
- [ ] 공동 모니터링 및 회고

---

## 9) KPI 및 모니터링

### 협업 품질 지표
| 지표 | 목표 | 측정 주기 |
|------|------|----------|
| 티켓 응답 시간 준수율 | >95% | 주간 |
| 공유 컴포넌트 변경 사전 통보율 | 100% | 월간 |
| 공동 배포 성공률 | >90% | 월간 |
| BU 간 에스컬레이션 발생률 | <10건/월 | 월간 |

### 월간 리포트 (COO 주관)
- BU 간 요청 건수 및 처리 현황
- SLA 준수율 (응답 시간, 완료 시간)
- 공유 컴포넌트 변경 이력
- 협업 이슈 및 개선 제안

---

## 10) 승인

- 작성자:
- 각 BU 리더 검토:
- COO 승인:
- 승인 일자:
